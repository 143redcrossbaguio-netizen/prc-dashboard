<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Donor Entry | Philippine Red Cross</title>

<style>
:root {
  --prc-red: #c62828;
  --border: #dcdcdc;
  --bg-soft: #f7f9fb;
  --text-dark: #263238;
  --text-muted: #607d8b;
}

body {
  margin: 0;
  font-family: "Segoe UI", Arial, sans-serif;
  background: #ffffff;
  color: var(--text-dark);
}

/* HEADER */
header {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 14px 28px;
  border-bottom: 2px solid var(--prc-red);
}

header img {
  height: 48px;
}

header h2 {
  margin: 0;
  font-size: 18px;
  color: var(--prc-red);
  font-weight: 700;
}

/* CONTAINER */
.container {
  max-width: 1280px;
  margin: 24px auto;
  padding: 0 24px;
}

/* SECTION */
.section {
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 18px 20px;
  margin-bottom: 20px;
}

.section-title {
  font-size: 13px;
  font-weight: 700;
  color: var(--prc-red);
  margin-bottom: 14px;
  text-transform: uppercase;
}

/* ROW */
.row {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 12px;
}

/* LABEL */
label {
  min-width: 140px;
  font-size: 13px;
  font-weight: 600;
  color: var(--text-muted);
}

/* INPUT */
input {
  padding: 7px 9px;
  font-size: 13px;
  border: 1px solid var(--border);
  border-radius: 4px;
}

input:focus {
  outline: none;
  border-color: var(--prc-red);
}

/* SIZES */
.auto { flex: 1; min-width: 160px; }
.small { width: 120px; }
.mini { width: 72px; }

/* SERIAL */
.serial-prefix {
  background: var(--bg-soft);
  padding: 7px 10px;
  border-radius: 4px;
  border: 1px solid var(--border);
  font-weight: 600;
}

/* BUTTONS */
.buttons {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 24px;
  padding-top: 14px;
  border-top: 1px solid var(--border);
}

.center-buttons {
  display: flex;
  gap: 10px;
}

button {
  padding: 9px 18px;
  border-radius: 4px;
  border: none;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
}

.primary {
  background: var(--prc-red);
  color: #fff;
}

.primary:hover {
  background: #b71c1c;
}

.secondary {
  background: #f1f3f5;
  color: #333;
}

.secondary:hover {
  background: #e0e0e0;
}

#donorExtra {
  display: none;
}
</style>
</head>

<body>

<header>
  <img src="assets/logo.png">
  <h2>Philippine Red Cross â€“ Baguio City Chapter</h2>
</header>

<div class="container">
<form id="donorForm">

<!-- BASIC -->
<div class="section">
  <div class="section-title">Basic Information</div>

  <div class="row">
    <label>Date Today</label>
    <input type="date" id="entryDate">
  </div>

  <div class="row">
    <label>Donor Type</label>
    <input id="donorType" class="small">
    <input id="donorExtra" class="auto" placeholder="Specify (MBD / Patient)">
  </div>
</div>

<!-- NAME -->
<div class="section">
  <div class="section-title">Donor Name</div>

  <div class="row">
    <input id="suffix" class="mini" placeholder="Suffix">
    <input id="surname" class="auto" placeholder="Surname">
    <input id="firstName" class="auto" placeholder="First Name">
    <input id="middleName" class="auto" placeholder="Middle Name">
  </div>
</div>

<!-- BIRTH -->
<div class="section">
  <div class="section-title">Birth Information</div>

  <div class="row">
    <label>Birthday</label>
    <input id="bd" class="mini" maxlength="2" placeholder="DD">
    <input id="bm" class="mini" maxlength="2" placeholder="MM">
    <input id="by" class="mini" maxlength="4" placeholder="YY/YYYY">
    <label>Age</label>
    <input id="age" class="small" readonly>
  </div>
</div>

<!-- CONTACT -->
<div class="section">
  <div class="section-title">Contact Details</div>

  <div class="row">
    <input id="address" class="auto" placeholder="Address">
    <input id="city" class="small" maxlength="15" placeholder="City / Region">
  </div>

  <div class="row">
    <label>Contact No.</label>
    <input id="c1" class="mini" maxlength="4">
    <input id="c2" class="mini" maxlength="3">
    <input id="c3" class="mini" maxlength="4">
  </div>
</div>

<!-- BLOOD -->
<div class="section">
  <div class="section-title">Blood Collection</div>

  <div class="row">
    <label>Serial No.</label>
    <span class="serial-prefix">PRC2600-</span>
    <input id="serial" class="auto">
  </div>

  <div class="row">
    <label>Blood Type</label>
    <input id="bloodType" class="small">
    <label>No. of Donations</label>
    <input id="times" class="mini">
  </div>

  <div class="row">
    <label>Bag Used</label>
    <input id="bagUsed" class="small">
    <label>Bag Type</label>
    <input id="bagType" class="small">
    <label>Amount</label>
    <input id="amount" class="small">
  </div>

  <div class="row">
    <label>Time</label>
    <input id="sh" class="mini" maxlength="2">
    <input id="sm" class="mini" maxlength="2">
    <span>to</span>
    <input id="eh" class="mini" maxlength="2">
    <input id="em" class="mini" maxlength="2">
  </div>
</div>

<!-- BUTTONS -->
<div class="buttons">
  <button type="button" class="secondary" onclick="location.href='dashboard.html'">
    Back to Homepage
  </button>

  <div class="center-buttons">
    <button type="button" class="primary" onclick="saveDonor()">Submit</button>
    <button type="button" class="secondary" onclick="location.href='donor-list.html'">
      Go to Donor List
    </button>
  </div>
</div>

</form>
</div>

<script>
// Date
entryDate.value = new Date().toISOString().split("T")[0];

// Donor Type
donorType.oninput = () => {
  const v = donorType.value.toUpperCase();
  donorExtra.style.display = (v === "M" || v === "P") ? "inline-block" : "none";
  if (v === "W") donorType.value = "Walk-in";
  if (v === "M") donorType.value = "MBD";
  if (v === "P") donorType.value = "Patient Directed";
};

// Birthday
bd.oninput = () => bd.value.length === 2 && bm.focus();
bm.oninput = () => bm.value.length === 2 && by.focus();
by.oninput = () => {
  if (by.value.length === 2) by.value = "19" + by.value;
  age.value = new Date().getFullYear() - new Date(by.value, bm.value - 1, bd.value).getFullYear();
};

// Contact
c1.oninput = () => c1.value.length === 4 && c2.focus();
c2.oninput = () => c2.value.length === 3 && c3.focus();

// Blood Type
bloodType.oninput = () => {
  const map = {AP:"A+",AN:"A-",BP:"B+",BN:"B-",ABP:"AB+",ABN:"AB-",OP:"O+",ON:"O-"};
  const v = bloodType.value.toUpperCase();
  if (map[v]) bloodType.value = map[v];
};

// Bags
bagUsed.oninput = () => bagUsed.value = bagUsed.value.toUpperCase()==="K"?"Karmi":bagUsed.value.toUpperCase()==="T"?"Terumo":bagUsed.value;
bagType.oninput = () => bagType.value = {S:"Single",D:"Double",T:"Triple"}[bagType.value.toUpperCase()] || bagType.value;
amount.oninput = () => amount.value = {4:"450mL",Q:"QNS",U:"UB"}[amount.value.toUpperCase()] || amount.value;

// Time
sh.oninput = () => sh.value.length===2 && sm.focus();
sm.oninput = () => sm.value.length===2 && eh.focus();
eh.oninput = () => eh.value.length===2 && em.focus();

function saveDonor() {
  alert("Donor entry saved successfully");
  donorForm.reset();
  entryDate.value = new Date().toISOString().split("T")[0];
  donorExtra.style.display = "none";
}
</script>

</body>
</html>
