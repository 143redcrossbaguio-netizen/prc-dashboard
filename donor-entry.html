<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Donor Entry</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #fdfdfd;
  margin: 20px;
  color: #b71c1c;
}

header {
  text-align: center;
  margin-bottom: 20px;
}

header img { height: 80px; }

h2 {
  color: #b71c1c;
}

/* FORM */
form {
  max-width: 1200px;
  margin: auto;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

/* ROW */
.row {
  display: flex;
  gap: 10px;
  align-items: center;
}

/* LABEL */
label {
  font-weight: bold;
  color: white;
  min-width: 110px;
}

/* RED-PINK BOX */
.rbox {
  background: linear-gradient(135deg, #b71c1c, #f48fb1);
  border-radius: 6px;
  padding: 6px;
  display: flex;
  gap: 6px;
  align-items: center;
}

/* INPUT */
input {
  background: transparent;
  border: none;
  border-bottom: 2px solid rgba(255,255,255,0.6);
  color: white;
  font-weight: bold;
  padding: 4px;
  outline: none;
}

input::placeholder {
  color: #ffd6e7;
}

input:focus {
  border-bottom: 2px solid white;
}

input:not(:placeholder-shown) {
  color: #111;
}

/* SIZES */
.auto { flex: 1; }
.small { width: 80px; }
.mini { width: 50px; }

.serial-prefix {
  background: rgba(255,255,255,0.2);
  padding: 4px 6px;
  border-radius: 4px;
  font-weight: bold;
  color: white;
}

/* BUTTONS */
button {
  background: #b71c1c;
  color: white;
  padding: 12px 18px;
  border: none;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
}

button:hover {
  background: #a11212;
}

#donorExtra { display: none; }
</style>
</head>

<body>

<header>
  <img src="assets/logo.png">
  <h2>Philippine Red Cross – Baguio City Chapter</h2>
</header>

<form id="donorForm">

<!-- DATE -->
<div class="row rbox">
  <label>Date</label>
  <input type="date" id="entryDate">
</div>

<!-- DONOR TYPE -->
<div class="row rbox">
  <label>Donor Type</label>
  <input id="donorType" class="small">
  <input id="donorExtra" class="auto" placeholder="Specify if needed">
</div>

<!-- NAME -->
<div class="row">
  <input id="suffix" placeholder="Suffix" class="small">
  <input id="surname" placeholder="Surname" class="auto">
  <input id="firstName" placeholder="First Name" class="auto">
  <input id="middleName" placeholder="Middle Name" class="auto">
</div>

<!-- BIRTHDAY -->
<div class="row rbox">
  <label>Birthday</label>
  <input id="bd" maxlength="2" class="mini" placeholder="DD">
  <input id="bm" maxlength="2" class="mini" placeholder="MM">
  <input id="by" maxlength="4" class="mini" placeholder="YY/YYYY">
  <label>Age</label>
  <input id="age" readonly class="small">
</div>

<!-- ADDRESS -->
<div class="row">
  <input id="address" placeholder="Address" class="auto">
  <input id="city" placeholder="City/Region" maxlength="15" class="small">
</div>

<!-- CONTACT -->
<div class="row rbox">
  <label>Contact</label>
  <input id="c1" maxlength="4" class="mini">
  <input id="c2" maxlength="3" class="mini">
  <input id="c3" maxlength="4" class="mini">
</div>

<!-- SERIAL -->
<div class="row rbox">
  <label>Serial</label>
  <div class="serial-prefix">PRC2600-</div>
  <input id="serial" class="auto">
</div>

<!-- BLOOD -->
<div class="row rbox">
  <label>Blood Type</label>
  <input id="bloodType" class="small">
  <label>Times</label>
  <input id="times" class="mini">
</div>

<!-- BAGS -->
<div class="row rbox">
  <label>Bag Used</label>
  <input id="bagUsed" class="small">
  <label>Bag Type</label>
  <input id="bagType" class="small">
  <label>Amount</label>
  <input id="amount" class="small">
</div>

<!-- TIME -->
<div class="row rbox">
  <label>Start</label>
  <input id="sh" maxlength="2" class="mini">
  <input id="sm" maxlength="2" class="mini">
  <label>End</label>
  <input id="eh" maxlength="2" class="mini">
  <input id="em" maxlength="2" class="mini">
</div>

<!-- BUTTONS -->
<div class="row" style="justify-content:center;margin-top:25px;">
  <button type="button" onclick="saveDonor()">SUBMIT</button>
  <button type="button" onclick="location.href='donor-list.html'">GO TO DONOR LIST</button>
  <button type="button" onclick="location.href='index.html'">BACK TO HOMEPAGE</button>
</div>

</form>

<script>
// Date
const today = new Date().toISOString().split("T")[0];
entryDate.value = today;

// Donor Type
donorType.oninput = () => {
  const v = donorType.value.toUpperCase();
  if (v === "W") { donorType.value="Walk-in"; donorExtra.style.display="none"; }
  if (v === "M") { donorType.value="MBD"; donorExtra.style.display="inline-block"; }
  if (v === "P") { donorType.value="Patient Directed"; donorExtra.style.display="inline-block"; }
};

// Birthday
bd.oninput=()=>bd.value.length===2&&bm.focus();
bm.oninput=()=>bm.value.length===2&&by.focus();
by.oninput=()=>{
  if(by.value.length===2) by.value="19"+by.value;
  const d=new Date(by.value,bm.value-1,bd.value);
  age.value=new Date().getFullYear()-d.getFullYear();
};

// Contact
c1.oninput=()=>c1.value.length===4&&c2.focus();
c2.oninput=()=>c2.value.length===3&&c3.focus();

// Blood
bloodType.oninput=()=>{
  const v=bloodType.value.toUpperCase();
  const map={AP:"A+",AN:"A-",BP:"B+",BN:"B-",ABP:"AB+",ABN:"AB-",OP:"O+",ON:"O-"};
  if(map[v]) bloodType.value=map[v];
};

// Bags
bagUsed.oninput=()=>bagUsed.value=bagUsed.value.toUpperCase()==="K"?"Karmi":bagUsed.value.toUpperCase()==="T"?"Terumo":bagUsed.value;
bagType.oninput=()=>bagType.value={S:"Single",D:"Double",T:"Triple"}[bagType.value.toUpperCase()]||bagType.value;
amount.oninput=()=>amount.value={4:"450mL",Q:"QNS",U:"UB"}[amount.value.toUpperCase()]||amount.value;

// Time
sh.oninput=()=>sh.value.length===2&&sm.focus();
sm.oninput=()=>sm.value.length===2&&eh.focus();
eh.oninput=()=>eh.value.length===2&&em.focus();

function saveDonor(){
  alert("Donor saved ✔");
  donorForm.reset();
  entryDate.value=today;
  donorExtra.style.display="none";
}
</script>

</body>
</html>
